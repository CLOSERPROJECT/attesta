{{define "backoffice_picker_body"}}
<section class="panel landing">
  <h1>Backoffice workflows</h1>
  <p class="muted">Pick a workflow and then choose a department.</p>
  {{if .Workflows}}
    <div class="impersonate">
      {{range .Workflows}}
        <a class="dept-button" href="/w/{{.Key}}/backoffice">{{.Name}}</a>
      {{end}}
    </div>
  {{else}}
    <p class="muted">No workflows configured.</p>
  {{end}}
</section>
{{end}}

{{define "backoffice_landing_body"}}
<section class="panel landing">
  <h1>Backoffice</h1>
  <p class="muted">Workflow: <strong>{{.WorkflowName}}</strong></p>
  <p class="muted">Choose a department to continue.</p>
  {{if .Users}}
    <div class="impersonate">
      {{range .Users}}
        <form method="post" action="{{$.WorkflowPath}}/impersonate">
          <input type="hidden" name="userId" value="{{.ID}}" />
          <input type="hidden" name="role" value="{{.Role}}" />
          <button
            type="submit"
            class="dept-button"
            style="--role-color: {{.RoleColor}}; --role-border: {{.RoleBorder}}"
          >{{.RoleLabel}} ({{.Name}})</button>
        </form>
      {{end}}
    </div>
  {{else}}
    <p class="muted">No users configured.</p>
  {{end}}
</section>
{{end}}

{{define "backoffice_landing.html"}}
  {{template "layout.html" .}}
{{end}}
